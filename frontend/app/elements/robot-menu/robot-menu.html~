<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-slider/paper-slider.html">

<dom-module id="robot-menu">
  <template>
    <style>
      :host {
        display: block;
      }

      paper-slider {
	min: 0;
	max: 100;
	value: 50;
      }

      iron-pages{ /*TODO the issue with being % height is that it needs a minimum height...*/
	background-color: #e0ebeb;
	width: 100%;
	height: 90%;
	position: absolute;
	font-size: 1em;
	margin: auto;
	bottom: 0px;
      }

      #editDrawer{
	font-size: 1.6em;
      }

      #faceEditor{
	height: 10%;
	top: 0px;
	margin: auto;
	position: absolute;
      }

    </style>
	<!-- the face color that is always there. -->
	<div id="faceEditor">
		<paper-input label="face color" value="{{config.faceColor}}" ><paper-input>
	</div>
	<!-- the pages in the drawer panel editor. -->
    	<iron-pages id="ironpages" selected="{{config.menuPage}}"> 
		<div>EYES
			<paper-input id="irisColorInput" label="iris color" value$="{{config.eyeColor}}"></paper-input>
			<paper-input id="eyeYInput" label="eye y position" value$="{{eyeY}}"></paper-input>
			<paper-input id="eyeHInput" label="eye height" value="{{eyeH}}"></paper-input>
			<paper-input id="eyeWInput" label="eye width" value="{{eyeW}}"></paper-input>
		</div>
		<div>MOUTH
		</div>
		<div>NOSE
		</div>
		<div>EYEBROWS
		</div>
    	</iron-pages>
  </template>
  <script>
  (function() {
    'use strict';

		var face;

    Polymer({
      is: 'robot-menu',

      properties: {
				config: {
					type: Object,
					notify: true,
					value: function() {
						return{
							eyeColor: '#009933',
							menuPage: 0,
							faceColor: '#512DA8'
						};
					}
				},
				eyeH: {value: '150px', notify: true},
				eyeW: {value: '150px', notify: true},
				eyeY: {value:'15px', notify: true}
      },

      setPage: function(page){ //from outside this file, set the menu page.
				this.$.ironpages.select(page);
      },

			/*changeEyeH: function() {
				face.moveEye(null,this.$.eyeHInput.value,null);
			},

			changeEyeW: function() {
				face.moveEye(null,null,this.$.eyeWInput.value);
			},

      changeFaceColor: function(){
	//TODO this doesnt change color yet
      },*/

			//when robot-face loads, it calls this function 
			//and passes itself in so robot-menu can access robot-face
			getFace: function(faceVar){
				face = faceVar;
			}

    });
  })();
  </script>
</dom-module>
